{"ast":null,"code":"import React from'react';import'./Home.css';import ProductCard from'../../components/ProductCard';import useFetch from'../../hooks/useFetch';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){var _useFetch=useFetch(\"https://fastapi-production-azattekce.up.railway.app/tarifler\"),data=_useFetch.data,isLoading=_useFetch.isLoading,error=_useFetch.error,refetch=_useFetch.refetch;var refetchData=function refetchData(){refetch();// ✅ This is correct!\n};var handleDelete=function handleDelete(id){if(!window.confirm(\"Are you sure you want to delete this item?\")){return;}fetch(\"https://fastapi-production-azattekce.up.railway.app/tarifler/\".concat(id),{method:'DELETE'}).then(function(response){if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(function(){// Optionally update the state to remove the deleted item from the UI\nrefetchData();console.log(\"Item with id \".concat(id,\" deleted successfully\"));}).catch(function(error){console.error('There was a problem with the delete request:',error);});console.log(\"Delete item with id: \".concat(id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-warning\",children:\"Y\\xFCkleniyor...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),data&&data.tarifler.map(function(tarif,index){return/*#__PURE__*/_jsx(ProductCard,{tarif:tarif,onDelete:function onDelete(){return handleDelete(tarif.id);}},index);})]});}export default Home;","map":{"version":3,"names":["React","ProductCard","useFetch","jsx","_jsx","jsxs","_jsxs","Home","_useFetch","data","isLoading","error","refetch","refetchData","handleDelete","id","window","confirm","fetch","concat","method","then","response","ok","Error","json","console","log","catch","className","children","tarifler","map","tarif","index","onDelete"],"sources":["C:/zattekce/Projects/workplace/react/udemy/udemy-react-dersler-notları/udemy-react-dersleri-11_1_yemek_tarifleri_projesi/yemek-tarifleri/src/pages/home/Home.js"],"sourcesContent":["import React from 'react'\nimport './Home.css';\nimport ProductCard from '../../components/ProductCard';\nimport useFetch from '../../hooks/useFetch';\n\nfunction Home() {\n\n  const { data, isLoading, error ,refetch} = useFetch(\"https://fastapi-production-azattekce.up.railway.app/tarifler\")\n  const refetchData = () => {\n    refetch(); // ✅ This is correct!\n  }\n  const handleDelete = (id) => {\n    \n    if (!window.confirm(\"Are you sure you want to delete this item?\")) {\n      return;\n    }\n    \n    fetch(`https://fastapi-production-azattekce.up.railway.app/tarifler/${id}`, {\n      method: 'DELETE',\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then(() => {\n        // Optionally update the state to remove the deleted item from the UI\n        refetchData();\n        console.log(`Item with id ${id} deleted successfully`);\n      })\n      .catch(error => {\n        console.error('There was a problem with the delete request:', error);\n      });\n\n    console.log(`Delete item with id: ${id}`);\n  }\n\n\n  return (\n    <div className=\"row mt-3\">\n\n      { isLoading && <div className='alert alert-warning'>Yükleniyor...</div>}\n      { error && <div className='alert alert-danger'>{ error }</div>}\n    \n      \n      {    \n        data &&  data.tarifler.map((tarif, index) => (\n          <ProductCard key={index} tarif={tarif} onDelete={() => handleDelete(tarif.id)} />\n        ))\n      }\n    </div>\n  )\n}\n\nexport default Home"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,YAAY,CACnB,MAAO,CAAAC,WAAW,KAAM,8BAA8B,CACtD,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,QAAS,CAAAC,IAAIA,CAAA,CAAG,CAEd,IAAAC,SAAA,CAA2CN,QAAQ,CAAC,8DAA8D,CAAC,CAA3GO,IAAI,CAAAD,SAAA,CAAJC,IAAI,CAAEC,SAAS,CAAAF,SAAA,CAATE,SAAS,CAAEC,KAAK,CAAAH,SAAA,CAALG,KAAK,CAAEC,OAAO,CAAAJ,SAAA,CAAPI,OAAO,CACvC,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxBD,OAAO,EAAE,CAAE;AACb,CAAC,CACD,GAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,EAAE,CAAK,CAE3B,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,CACjE,OACF,CAEAC,KAAK,iEAAAC,MAAA,CAAiEJ,EAAE,EAAI,CAC1EK,MAAM,CAAE,QACV,CAAC,CAAC,CACCC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAChD,CACA,MAAO,CAAAF,QAAQ,CAACG,IAAI,EAAE,CACxB,CAAC,CAAC,CACDJ,IAAI,CAAC,UAAM,CACV;AACAR,WAAW,EAAE,CACba,OAAO,CAACC,GAAG,iBAAAR,MAAA,CAAiBJ,EAAE,0BAAwB,CACxD,CAAC,CAAC,CACDa,KAAK,CAAC,SAAAjB,KAAK,CAAI,CACde,OAAO,CAACf,KAAK,CAAC,8CAA8C,CAAEA,KAAK,CAAC,CACtE,CAAC,CAAC,CAEJe,OAAO,CAACC,GAAG,yBAAAR,MAAA,CAAyBJ,EAAE,EAAG,CAC3C,CAAC,CAGD,mBACET,KAAA,QAAKuB,SAAS,CAAC,UAAU,CAAAC,QAAA,EAErBpB,SAAS,eAAIN,IAAA,QAAKyB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAAC,kBAAa,EAAM,CACrEnB,KAAK,eAAIP,IAAA,QAAKyB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAGnB,KAAK,EAAQ,CAI5DF,IAAI,EAAKA,IAAI,CAACsB,QAAQ,CAACC,GAAG,CAAC,SAACC,KAAK,CAAEC,KAAK,qBACtC9B,IAAA,CAACH,WAAW,EAAagC,KAAK,CAAEA,KAAM,CAACE,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAArB,YAAY,CAACmB,KAAK,CAAClB,EAAE,CAAC,EAAC,EAA5DmB,KAAK,CAA0D,EAClF,CAAC,GAEA,CAEV,CAEA,cAAe,CAAA3B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}